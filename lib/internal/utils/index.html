<!-- index.html -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>expLanes</title>
    <link rel="icon" type="image/png" href="figures/logo.png" />
  
    <!-- CSS -->
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootswatch/3.2.0/sandstone/bootstrap.min.css">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="expReport.css"/>
    <style>
      body { padding-top:50px; }
    </style>

    <!-- JS -->
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.23/angular.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.23/angular-animate.js"></script>
    <script src="expReport.js"></script>
    <script src="data.js"></script>
    <script src="comments.js"></script>
  </head>
  <body>
    <div class="container" ng-app="sortApp" ng-controller="mainController" align="center">
      <span style="position:relative">
	<div style="position:absolute; left:-350px; top: -20px">
	  <a href="http://mathieulagrange.github.io/expLanes">
	    <a href="https://github.com/mathieulagrange/expLanes"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"></a>
	    <img src="figures/logo.png" alt="This is an expLanes experiment" style="width:120px;height:120px;">
      </a>
	</div>
	<h1> {{title}}</h1>
	<h2> {{author}}</h2>
	<h3> {{date}}</h3>
      </span>
      
      <div class="overlay" ng-show="showTex!=-1" ng-click="showTexFile(-1)">
	<div class="pop" ng-click="stopEvent($event)">
	  <textarea id="tex" class="tex" ng-model="tables[showTex].tex"  rows="10" cols="100">
	  </textarea>
	  <input type="button" value="Copy to clipboard" ng-click="copyToClipBoard(index)"/>
	</div>
      </div>

      <div class="report">
	{{report}}
      </div>
      <div ng-repeat="table in tables">
	<div >
	  <div class="alert alert-info" style="display:inline-block" ng-click="showTable($index)">
	    Tab. {{$index+1}}: {{table.caption}}
	  </div>
	  <div class="alert alert-info" style="display:inline-block" ng-click="showTexFile($index)">
	    <span class="tex"><b>T<sub>e</sub>X</b></span>
	  </div>
	</div>

	<div class="dataHider" ng-style="{height:table.visibleHeight}">
	  <div id="table-{{$index}}-content" class="data">
	    
	    <img ng-src="{{table.figure}}" width="90%" style="border:3px solid black"/> 
	    
	    <div class="comment"> 
	      {{table.comment}}	      
	    </div>


	    <form>
	      <div class="form-group">
		<div class="input-group">
		  <div class="input-group-addon"><i class="fa fa-search"></i></div>
		  <input type="text" class="form-control" placeholder="Filter the table" ng-model="table.searchToken">
		</div>      
	      </div>
	    </form>

	    <a name="table{{$index}}"></a>
	    
	    <table class="table table-bordered table-striped">
	      <tr>
		<th ng-repeat="column in table.cols">
		  <a href="#table{{$parent.$index}}" ng-click="setSortType(column)">
		    {{column}}
		    <span ng-show="sortType == column && sortReverse" class="fa fa-caret-up"></span>
		    <span ng-show="sortType == column && !sortReverse" class="fa fa-caret-down"></span>
		  </a>
		</th>
	      </tr>
	      <tr ng-repeat="row in table.rows | orderBy:sortCell:sortReverse | filter:table.searchToken">
		<td ng-repeat="column in table.cols" ng-style="{color:isBest(table, column, row[column]) && 'red' || 'black'}">{{row[column]}}</td>
	      </tr>
	    </table>
	  </div>
	</div>
      </div>
    </div>
  </body>
</html>
